# Readme #
## General ##
Some general information about the scripts and data set.

Total amount of ads in the data: 1,491,883 <br>
Democrats: 1,188,773 <br>
Republicans: 303,110

When using the columns `impressions`, `spend`, or `estimated_audience_size`, the values shown are 'averages'. The info from facebook is retrieved with lower and an upper bounds, the average of those bounds is used. For example lower_bound: 0 and upper_bound: 999 will be used as 499.5.

All scripts are made using python 3.10. <br>
The following packages might need to be installed: <br>
- pip install wordcloud
- pip install pandas
- pip install plotly
- pip install pyjanitor

## Graph Multi keyword ##
This can be generated by running the script `keyword-plotter.py`. In the script there is a variable called `keywords`. You can change this array to contain whichever and as many keywords as you like. The resulting graph will contain a line per keyword and this is for both parties combined. 

## Graph Multi party ##
This can be generated by running the script `party-plotter.py`. This script checks a single keyword, but then for both parties separately. The keyword to plot can be set by changing the variable `keyword`. The resulting graph will contain a line per party.

## Wordcloud ##
Wordclouds can be generated by running the script `wordcloudmaker.py`. This script generates a .png file per party in
the same folder as the script is in. There are date filters possible. 
The variable `year` and `month` can be filled in to get ads from just that year/month. 
If you fill in only the year, you will get the whole year, if you fill in only the month, 
you will get ads from all the years but only in that month (so august 2019, august 2020, etc.).
If you leave the year and month variable empty, you will get all ads.

## Spend per year ##
The spend per year can be generated by running the `spend-per-year.py` script. This script generates 1 barchart with both parties in the same chart.

## GEO Map ##
Generating a geographic scatter plot map can be done by running the `geomap.py` script. In this script you can change the variable `metricColumn` to one of 3 values: `impressions`, `spend`, or `estimated_audience_size`. Running this script will result in two separate geomaps, one per party.

## Barchart ##
Regular barcharts can be generated by running the `barchart-simple-column.py` script. This generates a single barchart with both parties. The variable `column` can be changed to: `impressions`, `spend`, `estimated_audience_size`, `currency`, `publisher_platforms` or `languages`. The variable `amountNonOtherBars` changes the amount of bars that are kept as normal before grouping the rest into one 'Other' column.

## Barchart Demographic simple ##
Barcharts with 'simple' columns can be generated using the `demographic-data-simple-columns.py` script. 
This script generates 2 barcharts, one per party. This script has 2 variables you can change: `metricColumn` and `groupByColumn`. 
Valid values for the variables: `groupByColumn`: `age`, `gender` and for `metricColumn`: `currency`, `publisher_platforms`, `languages`. 
Groups of data that contain less than 5% of the total amount of ads are removed for visual clarity. 

## Barchart Demographic metric ##
Barcharts with 'metric' columns can be generated using the `demographic-data-metric-columns.py` script. 
This script generates 1 barchart, with both parties included. This script has 2 variables you can change: `metricColumn` and `groupByColumn`. 
Valid values for the variables: `groupByColumn`: `age`, `gender` and for `metricColumn`: `impressions`, `spend`, `estimated_audience_size`. 

## Rank Difference ##
The rank differences are pre-calculated for frequency of terms of 3 and higher. Each party has a csv for the highest difference and the lowest difference. See `democrats-least-rank-difference-3-with-amounts.csv`, `democrats-rank-difference-3-with-amounts.csv`, `republicans-least-rank-difference-3-with-amounts.csv`, and `republicans-rank-difference-3-with-amounts.csv`.

There are also files pre-calculated with ALL terms of the party with a frequency of 3 and higher. See `democrats-3-counts.txt` and `republicans-3-counts.txt`.
